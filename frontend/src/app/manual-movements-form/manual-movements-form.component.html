<h2>Movimentos manuais</h2>
<form [formGroup]="addProductForm">
  <fieldset [disabled]="isFormDisabled">
    <div class="row row-cols-2">

      <div class="form-group col">
        <label for="mes">Mês:</label>
        <input formControlName="mes" id="mes" class="form-control">
        <span *ngIf="addProductForm.get('mes').invalid && (addProductForm.get('mes').dirty || addProductForm.get('mes').touched)" class="alert">
          <span *ngIf="addProductForm.get('mes').errors?.required">
            Mes é obrigatorio.
          </span>
        </span>
      </div>

      <div class="form-group col">
        <label for="ano">Ano:</label>
        <input formControlName="ano" id="ano" class="form-control">
      </div>

      <div class="form-group col">
        <label for="produto">Produto:</label>
        <select id="produto" formControlName="produto" (change)="OnProdutoSelect()">
          <option value=""></option>
          <option *ngFor="let product of products" [ngValue]="product.codigo">{{product.descricao}}</option>
        </select>
      </div>


      <div class="form-group col">
        <label for="cosif">Cosif:</label>
        <select id="cosif" formControlName="cosif" >
          <option value=""></option>
          <option
            *ngFor="let codigoCosif of codigoCosifArray"
            [ngValue]="codigoCosif.codigoCosif"
          >
            {{codigoCosif.codigoCosif}} - ({{codigoCosif.classificacao}})
          </option>
        </select>
      </div>

      <div class="form-group col">
        <label for="valor">Valor:</label>
        <input formControlName="valor" id="valor" class="form-control">
      </div>

      <div class="col"></div>

      <div class="form-group col">
        <label for="descricao">Descrição:</label>
        <textarea class="form-control" formControlName="descricao" id="descricao" type="text"></textarea>
      </div>

    </div>
  </fieldset>

  <div class="col-6">
    <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-2">
      <button type="button" class="btn btn-primary me-md-1" (click)="onReset()">Limpar</button>
      <button type="button" class="btn btn-primary me-md-1" (click)="onNew()">Novo</button>
      <button type="button" class="btn btn-primary" (click)="onSubmit()">Incluir</button>
    </div>
  </div>
</form>

<pre>
  {{addProductForm.value | json}}
</pre>

